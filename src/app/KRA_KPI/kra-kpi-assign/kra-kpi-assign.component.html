<div *ngIf="Admin">
  <div class="container" style="margin-top: 1rem;">
    <div class="row">
      <div class="col-md-5">
        <div class="form-group row">
          <label class="col-md-4 col-form-label text-center" style="font-size: 16px;color: #3177b3"
            for="created by">Department: </label>
          <div class="col-md-8">
            <select class="drop" name="dept" value="dept" (change)="Department($event.target.value)">
              <option value="Please select">Please select</option>
              <option *ngFor="let depart of DepartmentList">{{depart.item_Type}}</option>
            </select>
          </div>
        </div>
      </div>
      <div class="col-md-5">
        <div class="form-group row">
          <label class="col-md-4 col-form-label text-center" style="font-size: 16px;color: #3177b3"
            for="created by">Designation :
          </label>
          <div class="col-md-8">
            <select class="drop" name="dept" value="dept" (change)="onRoleClick($event.target.value)">
              <option value="Please select">Please select</option>
              <option *ngFor="let role of Departments">{{role}}</option>
            </select>
          </div>
        </div>
      </div>
    </div>
    <!-- <div *ngIf="tab">
      <input type="text" class="wrapper-8" [(ngModel)]="searchText" placeholder="Search" />
    </div> -->
    <!-- 
    <div class="row float-right" *ngIf="tab">
      <div><button class="custom-btn btn-12 " (click)="exportexcel()"><span style="color: white;
            font-weight: 400;">click here</span><span style="color: white;font-weight: 400;">Excel
            Download</span></button>
      </div>
      <button type="btn" style=" color: white;  background: #3177b3;" class="btn"
        (click)="largeModal.show()">Assign</button>
    </div> -->

    <div *ngIf="butnn">
  <button type="submit" class="magenta" title="Assign" (click)="largeModal.show()" style="font-weight: 500;float: right;margin-right: 10px; width: 105px;outline: none;"><img src="../../../assets/img/add.png" height="18"
          width="18" style="float: right;"/>Assign</button>
        </div>
    <input type="text" *ngIf="tab" class="wrapper-8" [(ngModel)]="searchText" placeholder="Search" />
    <div class="flex-parent jc-center" *ngIf="tab" style="margin-bottom: 1rem;">
      <!-- <button type="submit" class="magenta" title="Assign" (click)="largeModal.show()" style="font-weight: 500;margin-right: 10px; width: 150px;outline: none;"><img src="../../../assets/img/add.png" height="18"
          width="18" style="margin-right: 10px;"/>Assign</button> -->

        <button type="submit" class="magenta" title="Download
          Excel" (click)="exportexcel()" style="font-weight: 500; outline: none;"><img src="../../../assets/img/download.png"
            height="15" width="15" style="margin-right: 10px;" />Download
          Excel</button>
    </div>
  </div>




  <div class="container">
    <div *ngIf="span" style="text-align: center;">
      <span style="color:red;font-size: 17px;">No data to display...! Assign KRA</span>
    </div>
    <!-- <div *ngIf="gridshow">
      <h4 style="color:#3177b3;text-align: center">ASSIGNED KRALIST</h4>
      <app-grid [Heading]="Heading" [dataFromComponent]="KraList" [coloums]="coloums"></app-grid>
      <br>
    </div> -->
  </div>
  <br>
  <pre></pre>
  <div bsModal #largeModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Assigned KRA List</h4>
          <button type="button" class="close" (click)="largeModalclose()" aria-label="Close" >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <h4>Designation : <strong>{{SelectedRole}}</strong></h4>
          <div class="container">
            <div class="my-2">
              <ng-multiselect-dropdown [placeholder]="'Select KRA'" [data]="kralist" #IsQuest="ngModel" required ngModel
                [(ngModel)]="selectedItems" [settings]="dropdownSettings">
              </ng-multiselect-dropdown>
            </div>
            <div class="row float-right mt-2">
              <button type="btn" style=" color: white;  background: #3177b3;" class="btn mx-2"
                (click)="largeModalclose()">Cancel</button>
              <button type="btn" style=" color: white;  background: #3177b3;" class="btn mx-2"
                (click)="largeModal.hide() ; AssignKRA()">Assign</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="Manager">
  <div class="container">
    <div class="row" style="margin-top: 1rem;">
      <div class="col-md-4">
        <label class="navbar-brand" style="color: #151616;"> Designation:</label>
        <select (change)="RoleSelect($event.target.value)" class="firstDrop">
          <option value="null">Please select</option>
          <option *ngFor="let role of Roles">{{role}}</option>
        </select>
      </div>
    </div>

    <div *ngIf="cardshow">
      <div class="row mt-3">
        <div class="col-md-3" *ngFor="let Emp of Employee">
          <div class="card l-bg-blue-dark w-70" style="cursor: pointer;" (click)="EmpFun(Emp)">
            <div class="align-items-center">
              <div class="py-2">
                <p class="deatilInfoEmp text-center" title="Assign KPI's"><b
                    style="color: white;">{{Emp.EmployeeName}}</b>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div bsModal #largeModal="bs-modal" [config]="{ backdrop: 'static'}" class="modal" tabindex="-1"
    role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialogue modal-fullscreen" role="document">
      <div class="container">
        <div class="modal-content" style="margin-top: 3rem;">
          <div class="modal-header">
            <strong style="color: #dee7e9; font-size: 15px;" class="modal-title">Assign KPI :-
            </strong>
            <button type="button" class="close" (click)="largeModal.hide()" aria-label="Close" style="border: none; font-size: 23px;">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="">
                <h5 style="margin-left: 0.2rem;">Employee Name : {{NAME}}</h5>
              </div>
            </div>
            
            <div class="wrapper-5" *ngIf="kraready">
              <app-kra-kpi-submit [Manager]="Manager" [DisableAssignKPI]="DisableAssignKPI" [dataFromComponent]="KRALIst" (dataToparent)="Assignkpi($event)">
              </app-kra-kpi-submit>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div bsModal #genericModal="bs-modal" [config]="{ backdrop: 'static' }" class="modal right" tabindex="-1" role="dialog"
  aria-labelledby="genericModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm modal-side modal-top-right" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <h6>Are you sure you want to delete this Kra ?</h6><br>
        <div class="row">
          <div class="col-4"></div>
          <div class="col-4">
            <button type="button" class="btn btn-outline-secondary" (click)="genericModal.hide()">Cancel</button>
          </div>
          <div class="col-3">
            <button type="button" class="btn btn-danger" (click)="RemoveAssignedKra()">Yes</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div *ngIf="tab">
    <div class="table-responsive">
      <table class="table" id="assignTable" style="font-size: 12px;border: none;">
        <thead>
          <tr style="border-radius: 10px;">
            <th style="color: aliceblue; background: #3177b3;">KRA</th>
            <th style="color: aliceblue; background: #3177b3;">Delete</th>
          </tr>
        </thead>
        <tbody>
          <tr (click)="Kra(kra)" *ngFor="let kra of KraList | filter:searchText, let i = index">
            <td id="{{i}}"> <strong style="font-size: 13px; padding: 11px;">{{kra.KRA}}</strong></td>
            <td id="{{i}}">
              <img src="../../../assets/img/delete.png" (click)="Deletebtn(kra)" title="Delete"
                style="width: 20px; height: 20px;">
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>